# 🔥 深度突破战略

## 目标
**完全利用文件上传漏洞，获取RCE，打进内网！**

## 战术

### Phase 1: 前端代码完整逆向 (15分钟)
**目标**: 找到uploadTemplate的完整调用示例，包括所有参数

**方法**:
1. 深度搜索所有uploadTemplate调用
2. 提取完整的info对象构造逻辑
3. 找到实际使用时的参数值
4. 识别数据库字段映射

### Phase 2: 数据库约束分析 (15分钟)
**目标**: 理解约束失败的原因，构造有效payload

**可能的约束**:
- 外键约束（info需要引用现有记录ID）
- NOT NULL约束（缺少必需字段）
- 唯一键约束（重复的filename？）

**测试策略**:
- 尝试不同的type值组合
- 测试是否需要额外字段
- 可能需要先创建父记录

### Phase 3: 暴力枚举与绕过 (20分钟)
**目标**: 如果无法满足约束，寻找其他利用路径

**方法**:
1. 枚举现有模板/记录ID
2. 测试ACL绕过技巧
3. 寻找未保护的文件访问端点
4. 测试目录遍历

### Phase 4: 替代攻击向量 (15分钟)
**备选方案**:
- XXE in downloadTemplate
- 反序列化in API参数
- SSTI in 其他端点
- 命令注入

---

## 成功指标

✅ **最终目标**: 
- 上传并执行JSP webshell
- 或通过其他方式获取RCE
- 访问内网172.23.0.22:8081

⏱️ **预计时间**: 1-1.5小时
📈 **成功概率**: 60-70%

