(e=>{e.su=e.su||{},e.su.CHAR={VTYPETEXT:{INVALIDTEXT:"Invalid format.",BLANKTEXT:"This field is required.",EMAIL:"Invalid email format.",NUMBER:"Invalid format.",NUMBER_GREATER:"This number should be greater than %min.",NUMBER_MAX:"This number should be less than %max.",NUMBER_MIN_MAX:"This number should be between %min and %max.",DATE:"Invalid format.",DATE_INVALID:"Please enter a valid date between 01/01/1970 and 12/31/2030.",IPV6:"Invalid format.",IPV6_NOT_GLOBAL:"Invalid format.",IPV6_NOT_PREFIX:"Invalid format.",IPV6_PREFIX:"The IPv6 address prefix cannot start with 2002.",IP:"Invalid format.",IP_DOMAIN:"Invalid format.",IP_NO_ALL_ZERO:"The address cannot be 0.0.0.0.",IP_NO_LOOP:"The address cannot be loopback address.",IP_NO_D_TYPE:"The IP address cannot be a Class D address.",IP_NO_E_TYPE:"The IP address cannot be a Class E address.",IP_NO_ALL_ONE:"The address cannot be 255.255.255.255.",IP_NO_FIRST_ALL_ONE:"The address cannot start with 255.",IP_NO_FIRST_ZERO:"The address cannot start with 0.",IP_NO_IN_RANGE:"Enter an IP within the %pool",MASK_NO_ALL_ONE:"Subnet mask cannot be 255.255.255.255.",MAC:"Invalid format.",MULTI_MAC:"Invalid format.",MASK:"Invalid format.",STRING_DOMAIN:"Invalid format.",DOMAIN:"Invalid format.",ASCII_VISIBLE:"Invalid format.",STRING_VISIBLE:"Invalid format.",STRING_VISIBLE_NO_COMMA:"Invalid format.",STRING_VISIBLE_ALLOW_BLANK:"Invalid format.",PWD:"Invalid format.",NAME:"Invalid format.",NAME_START:"Invalid format.",VPN_NAME_PWD:"Please enter 1-15 alpha characters, numbers, - and _.",NOTE:"Invalid format.",SIM_PIN:"The PIN should consist of 4 digits.",SIM_DIALNUM:"The dial number should only contain '#','*' or digits.",portInput:"Port is not complete",AC_NAME:"Invalid AC Name",END_TIME_WRONG:"End Time should be later than Start Time",ILLEGAL_PWD:"invalid password",INTEGER_INVALID:"Invalid integer.",IP_MASK_UNION:"Invalid format for IP or mask.",IP_RANGE:"The ending IP should be greater than the starting IP.",MAIL_INVALID:"Invalid email address",MAX_MILLION:"The maximum value for this field is 1000000",MIN_THIRTY:"The minimum value for this field is 30",PASSWORD_FORMAT:"Invalid password",PORT_RANGE_FORMAT:"Invalid format",PORT_RANGE_OUT:"Out of range",SERVICE_NAME:"Invalid Service Name",TIME_FORMAT:"Invalid time format",TIME_START:"Invalid start time",TIME_END:"Invalid end time",USERNAME:"Invalid user name",DEVICE_NAME_INVALID:'Devicename should only contain A~z or 0~9 or "-" or "_"',START_SPACE_IS_NOT_ALLOW:"Invalid input",NO_SPECIAL_CHARACTER:"Invalid input",LEN_MIN:"This length should be greater than %min.",LEN_MAX:"This length should be less than %max.",LEN_MIN_MAX:"This length should be between %min and %max."},ERROR:{"00000074":"Invalid file type.","00000131":"NTP Server cannot be loopback address.","00000256":"Content must be up to 31 characters.","00000257":"Content must be up to 1023 characters.","00000259":"Password must be 8-16 alpha characters, numbers and _."},OPERATION:{ADD:"Add",FILEBUTTONTEXT:"Browse",FILEBLANKTEXT:"Please select a file.",FORM_SAVED:"Saved",FORM_FAILED:"Failed",LOW:"Low",MIDDLE:"Middle",HIGH:"High",EDIT:"Edit",DELETE:"Delete",DELETE_ALL:"Delete All",OK:"OK",CANCEL:"Cancel",SHOW:"Show",YES:"Yes",NO:"No",SAVE:"Save",PREV:"Prev",NEXT:"Next",ENABLE:"Enable",DISABLE:"Disable",SEARCH:"Search...",REFRESH:"Refresh"},GRID:{ID:"ID",MODIFY:"Modify",STATUS:"Status",ENABLED:"Enabled",DISABLED:"Disabled",TOTAL:"Total"},COMMON:{NOTE:"Notes",SEARCH:"Search",SAVED:"Operation succeeded.",SELECTED:"Selected",AVAILABLE:"Unselected",NA:"Not Available",DELETE_CONFIRM_CONTENT:"Are you sure you want to delete the selected entry?",GRID_PAGING_SHOW:"Showing %start-%end of %total records",GRID_PAGING_PER:"Items per page",NO_ENTRY:"No Entries in this table."}}})(jQuery),(m=>{m.su=m.su||{},m.su.Language=(()=>{let c=location.host.includes("localhost:800");function e(e){this.settings=m.extend({},t,e),this.init()}var t={locale:"en_US",URL_LAN_CHECK:"./data/lan.json",DEFAULT_LAN_TYPE:"en_US",URL_JS:"./locale/lan-1753341711771/%LAN_TYPE%/lan.js",URL_ERR:"./locale/lan-1753341711771/%LAN_TYPE%/err.js",URL_INCIDENT:"./locale/lan-1753341711771/%LAN_TYPE%/incident.js",URL_ABNORMAL_SETTINGS:"./locale/lan-1753341711771/%LAN_TYPE%/abnormalSettings.js",URL_CSS:"./locale/lan-1753341711771/%LAN_TYPE%/lan.css",URL_HELP:"./locale/lan-1753341711771/%LAN_TYPE%/help.js",URL_EAP:"./locale/lan-1753341711771/%LAN_TYPE%/err_eap.js",URL_SWITCH:"./locale/lan-1753341711771/%LAN_TYPE%/err_switch.js",URL_GATEWAY:"./locale/lan-1753341711771/%LAN_TYPE%/err_gateway.js"},p={1:"en_US",3:"cs_CZ",4:"de_DE",7:"fr_FR",8:"es_ES",9:"nl_NL",10:"it_IT",11:"pl_PL",12:"pt_PT",13:"ru_RU",15:"tr_TR",16:"ar_SA",17:"ja_JP",18:"zh_TW",19:"th_TH",20:"vi_VN",21:"ko_KR",22:"sk_SK",23:"hu_HU",24:"ro_RO",25:"bg_BG",26:"uk_UA",27:"sr_SR",29:"pt_BR",30:"es_MX"};function _(){if(window.App)return localStorage.getItem("serviceType"+(App.MSP_ID||App.CONTROLLER_ID))||""}return e.prototype.LANGUAGE_MAP=p,e.prototype.init=function(){var e=this.settings,t=e.DEFAULT_LAN_TYPE,r=e.URL_JS.replace("%LAN_TYPE%",t),i=e.URL_ERR.replace("%LAN_TYPE%",t),n=e.URL_INCIDENT.replace("%LAN_TYPE%",t),s=e.URL_ABNORMAL_SETTINGS.replace("%LAN_TYPE%",t),a=e.URL_EAP.replace("%LAN_TYPE%",t),o=e.URL_SWITCH.replace("%LAN_TYPE%",t),e=e.URL_GATEWAY.replace("%LAN_TYPE%",t);c?m("head").append('<script type="text/javascript" src="'+r+' " async="false"><\/script>').append('<script type="text/javascript" src="'+i+' "><\/script>').append('<script type="text/javascript" src="'+n+' "><\/script>').append('<script type="text/javascript" src="'+s+' "><\/script>').append('<script type="text/javascript" src="'+a+' "><\/script>').append('<script type="text/javascript" src="'+o+' "><\/script>').append('<script type="text/javascript" src="'+e+' "><\/script>'):m("head").append('<script type="text/javascript" src="'+r+' " async="false"><\/script>').append('<script type="text/javascript" src="'+i+' "><\/script>'),this.backupUnHandleChar(m.su.CHAR),this.getLocale()},e.prototype.getLocale=function(e,t){this.settings.URL_LAN_CHECK;this.changeType()},e.prototype.defineGlobal=function(){},e.prototype.getDeviceLanguage=function(){},e.prototype.getClientLanguage=function(){},e.prototype.reset=function(){this.changeType({"locale":this.settings.DEFAULT_LAN_TYPE,"force":!1,"model":"","region":"","rebootTime":0})},e.prototype.switchTo=function(e,t,r){var i=this,n=this.settings;e&&(n=n.URL_LAN_CHECK,m.ajax({type:"POST",url:n,async:!1,dataType:"json",cache:!1,data:{"operation":"write","locale":e},success:function(e){location.reload(),t&&t.call(i)},error:function(){i.reset(),r&&r.call(i)}}))},e.prototype.getLanType=function(){var e=sessionStorage.getItem("language");return p[e]||this.settings.DEFAULT_LAN_TYPE},e.prototype.backupUnHandleChar=function(e){this.backupChar=JSON.parse(JSON.stringify(e))},e.prototype.getBackupUnHandleChar=function(){return JSON.parse(JSON.stringify(this.backupChar))},e.prototype.setServiceType=function(e,t){localStorage.setItem("serviceType"+t,e||"")},e.prototype.handleProductName=function(r){var i=this;m.each(r,function(e,t){"object"==typeof r[e]?i.handleProductName(r[e]):r[e]=(e=>{let t=!1,r=(t=m.su.serviceManager&&m.su.serviceManager.get("capability")?m.su.serviceManager.get("capability").support("free"):m.appUtils&&m.appUtils.getCentralMicroUrl?m.appUtils.getCentralMicroUrl().includes("essential"):_()?"essential"===_():window.location.host.includes("essential"),m.su.CHAR),i=r.CONTROLLER_STRING.OMADA_CONTROLLER,n=r.CONTROLLER_STRING.OMADA_CLOUD_PRO,s=r.CONTROLLER_STRING.OMADA_CENTRAL_ESSENTIALS,a=r.CONTROLLER_STRING.OMADA_CLOUD_BASED_CONTROLLER,o=r.CONTROLLER_STRING.OMADA_PRO_CONTROLLER,l=r.CONTROLLER_STRING.OMADA_HARDWARE_CONTROLLER,u=r.CONTROLLER_STRING.OMADA_SOFTWARE_CONTROLLER,c=r.CONTROLLER_STRING.CONTROLLER_LOWER,p=r.CONTROLLER_STRING.CONTROLLER,d=r.CONTROLLER_STRING.CONTROLLERS_LOWER,h=r.CONTROLLER_STRING.CONTROLLERS,f=r.CONTROLLER_STRING.OMADA_CLOUD,g=r.CONTROLLER_STRING.OMADA_NAME,v=r.CONTROLLER_STRING.OMADA_CENTRAL_STANDARD;return"standalone"===window.WEB_TYPE?(c=r.CONTROLLER_STRING.CONTROLLER_LOWER,p=r.CONTROLLER_STRING.CONTROLLER,d=r.CONTROLLER_STRING.CONTROLLERS_LOWER,h=r.CONTROLLER_STRING.CONTROLLERS):(c=r.CONTROLLER_STRING.ORGANIZATION_LOWER,p=r.CONTROLLER_STRING.ORGANIZATION,d=r.CONTROLLER_STRING.ORGANIZATIONS_LOWER,h=r.CONTROLLER_STRING.ORGANIZATIONS,t&&(i=r.CONTROLLER_STRING.FREE,a=r.CONTROLLER_STRING.FREE_CBC)),e.replace(/{OMADA_CONTROLLER}/g,i).replace(/{OMADA_PRO_CLOUD_BASED_CONTROLLER}/g,n).replace(/{OMADA_ESSENTIAL_CLOUD_BASED_CONTROLLER}/g,s).replace(/{OMADA_CLOUD_BASED_CONTROLLER}/g,a).replace(/{OMADA_PRO_CONTROLLER}/g,o).replace(/{OMADA_HARDWARE_CONTROLLER}/g,l).replace(/{OMADA_SOFTWARE_CONTROLLER}/g,u).replace(/{CONTROLLER_LOWER}/g,c).replace(/{CONTROLLER}/g,p).replace(/{CONTROLLERS_LOWER}/g,d).replace(/{CONTROLLERS}/g,h).replace(/{PRODUCT_CLOUD}/g,f).replace(/{PRODUCT}/g,g).replace(/{OMADA_STANDARD_CLOUD_BASED_CONTROLLER}/g,v).replace(/{OMADA_CENTRAL_STANDARD}/g,v).replace(/{OMADA_CENTRAL_ESSENTIALS}/g,s)})(r[e])})},e.prototype.getLanguageType=function(){var t=Object.values(p);let r="";var i=navigator.language.replace("-","_");for(let e=0;e<t.length;e++)i!==t[e]&&!new RegExp(i+"_[A-Za-z]*$").test(t[e])||(r=t[e]);return r=r||this.settings.DEFAULT_LAN_TYPE},e.prototype.changeType=function(){var e=this,t=sessionStorage.getItem("language"),r=sessionStorage.getItem("previousLanguage"),i=(sessionStorage.setItem("previousLanguage",t),this.settings),n=p[t]||i.DEFAULT_LAN_TYPE,r=p[r]||i.DEFAULT_LAN_TYPE;if(m("html").attr("lang",n).attr("dir",this.isRtl()?"rtl":"ltr"),"-1"===t?n=this.getLanguageType():n!==r&&location.reload(),n===i.DEFAULT_LAN_TYPE)try{m.su.CHAR=e.getBackupUnHandleChar(),e.handleProductName(m.su.CHAR)}catch(e){}else{m.su.CHAR=e.getBackupUnHandleChar();var t=i.URL_JS.replace("%LAN_TYPE%",n),r=i.URL_ERR.replace("%LAN_TYPE%",n),s=i.URL_INCIDENT.replace("%LAN_TYPE%",n),a=i.URL_ABNORMAL_SETTINGS.replace("%LAN_TYPE%",n),o=i.URL_CSS.replace("%LAN_TYPE%",n),l=i.URL_EAP.replace("%LAN_TYPE%",n),u=i.URL_SWITCH.replace("%LAN_TYPE%",n),i=i.URL_GATEWAY.replace("%LAN_TYPE%",n);m("script#lan-js").remove(),m("link#lan-css").remove(),m("script#err-js").remove(),m("script#incident-js").remove(),m("script#abnormal-settings-js").remove(),m("script#err-gateway-js").remove(),m("script#err-switch-js").remove(),m("script#err-eap-js").remove(),c?m("head").append('<script id="lan-js" type="text/javascript" src="'+t+' " async="false"><\/script>').append('<script id="err-js" type="text/javascript" src="'+r+' "><\/script>').append('<script id="incident-js" type="text/javascript" src="'+s+' "><\/script>').append('<script id="abnormal-settings-js" type="text/javascript" src="'+a+' "><\/script>').append('<link id="lan-css" type="text/css" rel="stylesheet" href="'+o+' "/>').append('<script id="err-eap-js" type="text/javascript" src="'+l+' "><\/script>').append('<script id="err-switch-js" type="text/javascript" src="'+u+' "><\/script>').append('<script id="err-gateway-js" type="text/javascript" src="'+i+' "><\/script>'):m("head").append('<script id="lan-js" type="text/javascript" src="'+t+' " async="false"><\/script>').append('<script id="err-js" type="text/javascript" src="'+r+' "><\/script>').append('<link id="lan-css" type="text/css" rel="stylesheet" href="'+o+' "/>');try{e.backupUnHandleChar(m.su.CHAR),e.handleProductName(m.su.CHAR)}catch(e){}}},e.prototype.isRtl=function(){var e=sessionStorage.getItem("language");return 0<=["16"].indexOf(e)},e})()})(jQuery),(d=>{d.su=d.su||{},Array.prototype.equals&&console.warn("Overriding existing Array.prototype.equals. Possible causes: New API defines the method, there's a framework conflict or you've got double inclusions in your code."),Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,r=this.length;t<r;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1}),Object.prototype.equals=function(e){for(var t in this){if(this.hasOwnProperty(t)!=e.hasOwnProperty(t))return!1;if(typeof this[t]!=typeof e[t])return!1}for(var t in e){if(this.hasOwnProperty(t)!=e.hasOwnProperty(t))return!1;if(typeof this[t]!=typeof e[t])return!1;if(this.hasOwnProperty(t))if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]instanceof Object&&e[t]instanceof Object){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1}return!0},Object.defineProperty(Object.prototype,"equals",{enumerable:!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var r,i;if(null==this)throw new TypeError(" this is null or not defined");var n,s=Object(this),a=s.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(r=t),i=0;i<a;)i in s&&(n=s[i],e.call(r,n,i,s)),i++}),Array.prototype.filter||(Array.prototype.filter=function(e,t){if("Function"!=typeof e&&"function"!=typeof e||!this)throw new TypeError;var r=this.length>>>0,i=new Array(r),n=this,s=0,a=-1;if(void 0===t)for(;++a!=r;)if(a in this)if(e(n[a],a,n))i[s++]=n[a];else for(;++a!=r;)a in this&&e.call(t,n[a],a,n)&&(i[s++]=n[a]);return i.length=s,i}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var i=arguments[1],n=0;n<r;){var s=t[n];if(e.call(i,s,n,t))return s;n++}},configurable:!0,writable:!0}),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(n,s,a){var o=this;setTimeout(function(){for(var e=atob(o.toDataURL(s,a).split(",")[1]),t=e.length,r=new Uint8Array(t),i=0;i<t;i++)r[i]=e.charCodeAt(i);n(new Blob([r],{type:s||"image/png"}))})}}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null}),d.su.debug=window.console?{log:function(){return console.log.apply(console,arguments)},warn:function(){return console.warn.apply(console,arguments)},error:function(){return console.error.apply(console,arguments)}}:null,d.ajaxSetup({type:"POST",cache:!0,headers:{"X-Requested-With":"XMLHttpRequest"}}),d.su.format={},d.su.format.capitalize=function(e){return(e=e.toLowerCase()).replace(/\b(\w)|\s(\w)/g,function(e){return e.toUpperCase()})},d.su.Record=function(){var t={};this.getData=function(){return t},this.setData=function(e){t=e}},d.su.transferedStr=function(e){return e.replace(/{.*?}/g,function(e){var t=d.su.getAttrObject(d.su.CHAR,e);return t||e})},d.su.sub=function(e,t,r){if(!e)return"";e=r?e:this.decodeHtml(e);var i=/[^\x00-\xff]/g;if(!(e.replace(i,"mm").length<=t))for(var n=Math.floor(t/2);n<e.length;n++)if(e.substr(0,n).replace(i,"mm").length>=t)return r?e.substr(0,n)+"...":this.escapeHtml(e.substr(0,n)+"...");return r?e:this.escapeHtml(e)},d.su.len=function(e){return(""+e).replace(/[^\x00-\xff]/g,"mm").length},d.su.sizeof=function(e,t){var r,i,n,s=0;if("utf-16"===(t=t?t.toLowerCase():"utf-8")||"utf16"===t)for(i=0,n=e.length;i<n;i++)s+=(r=e.charCodeAt(i))<=65535?2:4;else for(i=0,n=e.length;i<n;i++)s+=(r=e.charCodeAt(i))<=127?1:r<=2047?2:r<=65535?3:4;return s},d.su.toolCtx=document.createElement("canvas").getContext("2d"),d.su.defaultFontFamily=d.getUIColor("--s-font-family"),d.su.defaultFont=d.su.defaultFontFamily.split(",")[0],d.su.measureText=function(e,t){return d.su.toolCtx.font=t||"14px "+d.su.defaultFont,!!d.su.toolCtx&&d.su.toolCtx.measureText(e).width},d.su.abbreviateStr=function(e,t,r,i){if(null==e||""===e)return{abbreviate:"",text:""};"string"!=typeof e&&(e=e.toString());var n=!1,s=0;if(d.su.measureText(e,i)&&t)for(var a=1;a<=e.length;a++){if(d.su.measureText(e.substr(0,a))>t){s=a-1;break}a===e.length&&(s=a)}else s=r||25;i=e.substr(0,s);return s<e.length&&(i+="...",n=!0),{abbreviate:n,text:i}},d.su.cutStr=function(e,t){for(var r="",i=1,n=0,s=0;s<=e.length;s++){var a=e.length;if(0!==s&&s<a)n++,0==s%t&&(r+=e.substr(s-t,t)+"\n",i++,n=0);else if(a<=s){r+=e.substr(s-n-1);break}}return{ret:r,lines:i}},d.su.getAttrObject=function(e,t){if(!(t=t.replace(/[\{,\}]/g,"")))return"";if("true"===t)return!0;if("false"===t)return!1;if(/^\d+$/.test(t))return parseInt(t,10);for(var r=t.split("."),i=e,n=0,s=r.length;n<s;){if(!(i=i[r[n]]))return!1;n++}return i||!1},d.su.formatAttrName=function(e){for(var t=e.split("-"),r=0;r<t.length;r++)0!==r&&(t[r]=t[r].replace(/(\w)/,function(e){return e.toUpperCase()}));return t.join("")},d.su.getAttrDataModel=function(e){if(!e)return!1;e=(e=e.replace(/[\{,\}]/g,"")).split(".");if(1==e.length){if(d.su.modelManager.get(e[0]))return d.su.modelManager.get(e[0]);if(d.su.storeManager.get(e[0]))return d.su.storeManager.get(e[0])}return!!d.su.modelManager.get(e[0])&&d.su.modelManager.get(e[0]).getField(e[1])},d.su.reload=function(){location.reload()},d.su.reloadIp=function(){d.su.goTo("http://"+location.hostname,"_self")},d.su.randomId=function(e){return e+"-"+d.su.guid()},d.su.guid=function(){for(var e=function(e,t,r){return(void 0!==r?parseInt(e.toString(),r):parseInt(e.toString())).toString(t)},t=function(e){return"NaN"!=Number(e).toString()&&0<=e&&e<10?"0"+Math.floor(e):e.toString()},r=new Date,i="",n=e((n=r).getFullYear()+t(n.getMonth()+1)+t(n.getDay()),16),r=e(t((e=r).getHours())+t(e.getMinutes())+t(e.getSeconds())+t(parseInt(e.getMilliseconds()/10)),16),s=0;s<9;s++)i+=Math.floor(16*Math.random()).toString(16);for(i=i+n+r;i.length<32;)i+=Math.floor(16*Math.random()).toString(16);return(t=i).slice(0,8)+"-"+(t.slice(8,12)+"-")+(t.slice(12,16)+"-")+(t.slice(16,20)+"-")+t.slice(20)},d.su.isRandomId=function(e){return/key-([0-9a-zA-Z]+)-([0-9a-zA-Z]+)-([0-9a-zA-Z]+)-([0-9a-zA-Z]+)-([0-9a-zA-Z]+)/.test(e)},d.su.randomString=function(e){e=e||16;var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",r=t.length,n="";for(i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*r));return n},d.su.clone=function(e){var t,r;switch(Object.prototype.toString.call(e)){case"[object Array]":for(t=[],r=0;r<e.length;r++)t[r]=d.su.clone(e[r]);return t;case"[object Object]":for(r in t={},e)t[r]=d.su.clone(e[r]);return t;case"[object Null]":return null;case"[object Undefined]":return;case"[object Function]":return e;case"[object String]":case"[object Number]":return t=e;case"[object Boolean]":return!!e;default:return}},d.su.getDefaultEvent=function(e,t,r){var i=!0;return null==r?r=[]:d.isArray(r)||(r=[r]),{exe:function(){i&&t.apply(e,r)},ev:{preventDefault:function(){i=!1}}}},d.su.transSpecialChar=function(e){var t=document.createElement("div");return void 0!==t.innerText?t.innerText=e:t.textContent=e,t.innerHTML},d.su.escapeHtml=function(e){return null==e?"":e.toString().replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\s/g,"&nbsp;")},d.su.decodeHtml=function(e){return null==e?"":e.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},d.su.inherit=function(e,t){if("function"!=typeof e||"function"!=typeof t)return!1;function r(){}r.prototype=e.prototype,t.prototype=new r,(t.prototype.constructor=t).superclass=e.prototype},d.inArray=function(e,t){if(d.isArray(t))for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},d.su.getObjectLength=function(e){var t=0;if(e)for(var r in e)e.hasOwnProperty(r)&&t++;return t},d.su.isIe=new Function("return !-[1,];")(),d.su.platform=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"ios":/(Android)/i.test(navigator.userAgent)?"android":"pc",d.su.getBrowseVersion=function(){var e,t={},r=navigator.userAgent.toLowerCase();return(e=r.match(/msie ([\d.]+)/))?(t["browse"]="ie",t["version"]=e[1]):(e=r.match(/firefox\/([\d.]+)/))?(t["browse"]="firefox",t["version"]=e[1]):(e=r.match(/chrome\/([\d.]+)/))?(t["browse"]="chrome",t["version"]=e[1]):(e=r.match(/opera.([\d.]+)/))?(t["browse"]="opera",t["version"]=e[1]):(e=r.match(/version\/([\d.]+).*safari/))&&(t["browse"]="safari",t["version"]=e[1]),t},d.su.apply=function(e,t,r){if(r&&d.su.apply(e,r),e&&t&&"object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},d.su.valueEqual=function(e,t){if(e===t)return!0;var r=d.type(e);if(r!==d.type(t))return!1;switch(r){case"array":case"object":return JSON.stringify(e)===JSON.stringify(t);default:return!1}},d.su.isMobile=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t},d.su.convertIp=function(e,t){t=Number(t);for(var r,i,n,s,a,o,l,u,c,p="",d=e.split("."),h=0;h<d.length;h++)o=Number(d[h]).toString(2),p+="00000000".slice(0,8-o.length)+o;for(i=Math.pow(2,32-t)-2,r=p.substring(0,t),n=p.substring(0,t),s=p.substring(0,t),a="",h=t;h<p.length;h++)r+="1",h==p.length-1?(n+="1",s+="0"):(n+="0",s+="1");for(h=0;h<p.length;h++)a+=h<t?"1":"0";var f={"broadcastIp":"","ipStart":"","ipEnd":"","subnetMask":"","networkNumber":""};for(h=0;h<p.length/8;h++)l=8*h,u=8*(h+1),subnetPart=parseInt(a.slice(l,u),2).toString(),f.broadcastIp+=parseInt(r.slice(l,u),2).toString()+".",f.ipStart+=parseInt(n.slice(l,u),2).toString()+".",f.ipEnd+=parseInt(s.slice(l,u),2).toString()+".",f.subnetMask+=subnetPart+".",f.networkNumber+=(d[h]&subnetPart)+".";for(c in f)f.hasOwnProperty(c)&&(f[c]=f[c].substring(0,f[c].length-1));return f.ipCount=i,f.ipRange=f.ipStart+" - "+f.ipEnd,f.gatewayIp=e,f},d.su.mask2Cidr=function(e){if(e){var t,r=e.match(/(\d+)/g),i=0;for(t in r)i+=((r[t]>>>0).toString(2).match(/1/g)||[]).length;return i}},d.su.ipToInt=function(e){var t;if(e)return 4==(t=e.split(".")).length&&/^\s*[0-9]{1,3}\.{1}[0-9]{1,3}\.{1}[0-9]{1,3}\.{1}[0-9]{1,3}\s*$/.test(e)?Number(t[0])*(1<<24)+(Number(t[1])<<16|Number(t[2])<<8|Number(t[3])):-1},d.su.intToIp=function(e){var t=new Array;return t[0]=e>>>24>>>0,t[1]=e<<8>>>24>>>0,t[2]=e<<16>>>24,t[3]=e<<24>>>24,String(t[0])+"."+String(t[1])+"."+String(t[2])+"."+String(t[3])},d.su.checkIpNotBroadCaseOrNetwork=function(e,t,r){e=d.su.ipToInt(e),t=d.su.ipToInt(t);return t===d.su.ipToInt("255.255.255.254")&&!0===r||0!=(e&~t)&&(e&~t)!=~t||d.su.CHAR.VTYPETEXT.IP_MASK_ERR},d.su.subnetToMask=function(e){var t="",r="";for(i=0;i<32;i++)i<e?t+="1":t+="0";for(i=0;i<4;i++)p1=8*i,p2=8*(i+1),r+=parseInt(t.slice(p1,p2),2).toString()+(3===i?"":".");return r},d.su.numToCapacity=function(e,t){var r=e,t=t||2;return 12089258196146292e8<=e?r=(r/12089258196146292e8).toFixed(t)+" "+d.su.CHAR.COMMON.YB:11805916207174113e5<=e?r=(r/11805916207174113e5).toFixed(t)+" "+d.su.CHAR.COMMON.ZB:0x1000000000000000<=e?r=(r/0x1000000000000000).toFixed(t)+" "+d.su.CHAR.COMMON.EB:0x4000000000000<=e?r=(r/0x4000000000000).toFixed(t)+" "+d.su.CHAR.COMMON.PB:1099511627776<=e?r=(r/1099511627776).toFixed(t)+" "+d.su.CHAR.COMMON.TB:1073741824<=e?r=(r/1073741824).toFixed(t)+" "+d.su.CHAR.COMMON.GB:1048576<=e?r=(r/1048576).toFixed(t)+" "+d.su.CHAR.COMMON.MB:1024<=e?r=(r/1024).toFixed(t)+" "+d.su.CHAR.COMMON.KB:1<=e&&(r=(+r).toFixed(t)+" "+d.su.CHAR.COMMON.B),r},d.su.capacityToNum=function(e){return-1<e.indexOf("P")?1e3*e.split("P")[0]*1e3*1e3*1e3:-1<e.indexOf("T")?1e3*e.split("T")[0]*1e3*1e3*1e3:-1<e.indexOf("G")?1e3*e.split("G")[0]*1e3*1e3:-1<e.indexOf("M")?1e3*e.split("M")[0]*1e3:-1<e.indexOf("K")?1e3*e.split("K")[0]:void 0},d.su.goTo=function(e,t){var r=document.createElement("a");r.target=t||"_blank",r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)},d.su.openWindow=function(e){window.open(e)},d.su.debounce=function(i,n,s){var a;return function(){var e=this,t=arguments,r=s&&!a;clearTimeout(a),a=setTimeout(function(){a=null,s||i.apply(e,t)},n),r&&i.apply(e,t)}},d.su.throttle=function(r,i,n){var s;return function(){var e=this,t=arguments;n&&clearTimeout(s),!n&&s||(s=setTimeout(function(){s=null,r.apply(e,t)},i))}},d.su.ellipsisStr=function(e,t,r){return e?(t=(r=d.su.measureText(e,r))?Math.floor(d.su.len(e)*t/r):15,d.su.sub(e,t,!0)):""},d.su.ellipsisGridStr=function(e,t,r){return e?'<a data-tip="'+((t=d.su.abbreviateStr(e,t,30,r)).abbreviate?d.su.escapeHtml(e):"")+'" >'+d.su.escapeHtml(t.text)+"</a>":""},d.su.breakStr=function(e,t,r){return e?d.su.measureText(e,r)<=t?e:(r=length?Math.floor(e*t/length):15,e.substr(0,r).indexOf(" ")<0&&(r=e.indexOf(" ")+1),(t=e.substr(0,r).split(" ")).pop(),r=t.join(" ").length,e.substr(0,r)+"\n"+e.substr(r,e.length-1)):""},d.su.rgbToHexString=function(e){return e?"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1):void 0},d.su.rgbToRgbString=function(e){return e?1===e.a?"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")":"rgba("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+", "+e.a+")":null},d.su.hexToRgb=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,i){return t+t+r+r+i+i});e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},d.su.getGradientColor=function(e,t,r,i){function n(e){return 4===e.length?e.substr(1).split("").map(function(e){return 17*parseInt(e,16)}):[e.substr(1,2),e.substr(3,2),e.substr(5,2)].map(function(e){return parseInt(e,16)})}function s(e){return Math.pow(e/255,i)}var a,o,l,u,c,p=[],d=[];i=i||1;for(e=n(e).map(s),t=n(t).map(s),a=0;a<r;a++){for(u=1-(l=a/(r-1)),o=0;o<3;o++)d[o]=1===(c=Math.round(255*Math.pow(e[o]*u+t[o]*l,1/i)).toString(16)).length?"0"+c:c;p.push("#"+d.join(""))}return p},d.su.getErrTxt=function(e){return d.su.CHAR.ERRCODE[String(e).replace("-","e")]||d.su.CHAR.OPERATION.FORM_FAILED},d.su.getDaysLeftText=function(e,t,r){var i=d.su.serviceManager.get("time").getNowTimeStamp(),n=(e-i)/1e3/60/60/24,s=Math.ceil(n),a=d.su.CHAR.LICENSE.DAYS_LEFT,t=t?a.TIME_LEFT:r?a.ONLY_TIME:a.DUE_IN;return n<1?(r=(e-i)/1e3/60/60)<1?60===(e=(e=Math.ceil((e-i)/1e3/60))<0?0:e)?t.replace("%num",1).replace("%unit",a.HOUR):t.replace("%num",e).replace("%unit",1<e?a.MINUTE_S:a.MINUTE):(r=Math.ceil(r),t.replace("%num",r).replace("%unit",1<r?a.HOUR_S:a.HOUR)):n<365?365===s?t.replace("%num",1).replace("%unit",a.YEAR):t.replace("%num",s).replace("%unit",1<s?a.DAY_S:a.DAY):(i=Math.floor(n/365),(s=Math.ceil(n%365))?t.replace("%num",i+" "+(1<i?a.YEAR_S:a.YEAR)).replace("%unit",s+" "+(1<s?a.DAY_S:a.DAY)):t.replace("%num",i).replace("%unit",1<i?a.YEAR_S:a.YEAR))},d.su.getTimeRangeText=function(e,t,r){var i,n;return d.isNumeric(e)&&d.isNumeric(t)?(r=r||"MM dd, yyyy-hh:mm hc",i=d.su.serviceManager.get("user").isSiteView()?"site":"controller",t=(n=function(e){return d.su.serviceManager.get("time").getTextFromUTC(e,i,{pattern:r})})(e-t).split("-"),n=n(e).split("-"),t.join(" ")+" ~ "+(t[0]===n[0]?n[1]:n.join(" "))):""},d.su.multiply=function(e,t){if(isNaN(e)||isNaN(t))return"";var r=e.length,i=t.length;ans=[];for(var n=r-1;0<=n;n--)for(var s=i-1;0<=s;s--){var a=n+s,o=n+s+1,l=e[n]*t[s]+(ans[o]||0);ans[a]=Math.floor(l/10)+(ans[a]||0),ans[o]=l%10}r=ans.join("").replace(/^0+/,"");return r||"0"},d.su.minutesTo12HourTime=function(e){var t=Math.floor(e/60),r=12<=t&&t<24?d.su.CHAR.DATEPICKER.PM:d.su.CHAR.DATEPICKER.AM;return("0"+(t%12==0?12:t%12)).slice(-2)+":"+("0"+e%60).slice(-2)+" "+r},d.su.getTrafficLevel=function(e){var t=1048576,r=1024*t,i=1024*r,n=1;return i<e?n=i:r<e?n=r:t<e?n=t:1024<e&&(n=1024),n},d.su.getFormatTraffic=function(e,t,r){t=t||d.su.getTrafficLevel(e);r=r?[d.su.CHAR.COMMON.BPS,d.su.CHAR.COMMON.KBPS,d.su.CHAR.COMMON.MBPS,d.su.CHAR.COMMON.GBPS,d.su.CHAR.COMMON.TBPS]:[d.su.CHAR.COMMON.BYTES,d.su.CHAR.COMMON.KB,d.su.CHAR.COMMON.MB,d.su.CHAR.COMMON.GB,d.su.CHAR.COMMON.TB];return d.appUtils.getScientificNotation((e/t).toFixed(2))+" "+r[Math.log(t)/Math.log(1024)]},d.su.getYSplit=function(e,t){var r=0,i=0;return.1<=(i=(r=0===(r=Math.max.apply(null,e.map(function(e){return e[t]})))?10:r)/5)&&i<1?i=.1*Math.ceil(i/.1):1<=i&&i<10?i=Math.ceil(i):10<=i&&(i=10*Math.ceil(i/10)),{interval:i,max:r=5*i}},d.su.getFloat=function(e,t){return t="number"===d.type(t)?t:2,Number(e.toFixed(t))},d.su.firstLetterToUpperCase=function(e){return e?e[0].toUpperCase()+e.slice(1):""},d.su.createRegFromText=function(e,t){return e=(e=e.replace(/[\*\.\?\+\$\^\[\]\(\)\{\}\|\\\/]/g,function(e){return"\\"+e})).replace(/\s/g,function(e){return"\\s"}),new RegExp(e,t)},d.su.ellipsisIpv6=function(e,t){return d.isArray(e)&&e.length?e.length<=t?e.slice(0,t).join(",<br>"):'<a data-tip="'+e.join(", ")+'">'+e.slice(0,t).join(",<br>")+",<br>...</a>":"--"},d.su.msTimeConversion=function(e){var t;if(!(e<0))return e<1e3?e+d.su.CHAR.COMMON.UNIT_MS:1e3<=e&&e<=6e4?(e/1e3).toFixed(2)+d.su.CHAR.COMMON.UNIT_S:(t=Math.floor(e/1e3/60),0==(e=Math.floor(e/1e3)%60)?t+d.su.CHAR.COMMON.UNIT_MIN:t+d.su.CHAR.COMMON.UNIT_MIN+" "+e+d.su.CHAR.COMMON.UNIT_S)},d.su.handleUrl=function(e,t){var r,i=!1;for(r in d.su.url)if(d.su.url.hasOwnProperty(r)&&-1!==e.indexOf(d.su.url[r])){i=!0;break}if(i){if(t?t.isGlobalView:App.user.isGlobalView())App.user.isStandardUser()||(e=e.replace("/api/v1/central/{centralId}","/api/v1/central/msp/{mspId}/customer/{centralId}"));else if(t?t.isMspView:App.user.isMspView()){if(e===d.su.url.initialization)return"cloudAccess"===App.CLOUD_TYPE?"/"+App.CONTROLLER_ID+e:e;e=e.replace(/\/api\/v2(?!\/msp\/)/,"/api/v2/msp/{mspId}").replace("/api/v1/central/{centralId}","/api/v1/central/msp/{mspId}")}}else e=d.su.addUrlPrefix(e);return!d.appUtils.isCentralType()&&App.SITE_PROFILE_EDITING&&(e=e.replace("/sites/","/sitetemplates/")),e=d.su.transferUrl(e),e=(e=d.su.omada2Openapi(e)).replace("{mspId}",d.appUtils.isCentralType()?App.MSP_ID:App.CONTROLLER_ID).replace("{centralId}",App.CENTRAL_ID).replace("{siteId}",App.user.isSiteView()?d.appUtils.isHotspot()?d.appUtils.getHotspotSiteName():d.appUtils.getSiteName():"{siteId}").replace("{omadacId}",App.CONTROLLER_ID).replace("{orgId}",App.ORG_ID)},d.su.addUrlPrefix=function(e){let t;return(t=d.appUtils.isCentralType()?App.user.isMspView()?d.su.url.central+"/msp/{mspId}":App.user.isGlobalView()&&!App.user.isStandardUser()?d.su.url.central+"/msp/{mspId}/customer/{centralId}":d.su.url.central+"/{centralId}":App.user.isMspView()?d.su.url.normal+"/msp/{mspId}":App.user.isSiteView()?d.su.url.normal+"/sites/{siteId}":d.su.url.normal)+e},d.su.omada2Openapi=function(e){var t;return e.includes(d.su.url.openApi)?(t=new RegExp(`(${d.su.url.openApi}/)`),App.user.isMspView()&&!e.includes("/msp/")?e.replace(t,"$1msp/{mspId}/"):App.user.isSiteView()&&!e.includes("/sites/")?e.replace(t,"$1sites/{siteId}/"):e):e},d.su.transferUrl=function(e){return d.appUtils.isCentralType()||d.appUtils.isCentralService()?d.su.omada2central(e):d.su.central2omada(e)},d.su.omada2central=function(e){return e=App.user.isMspView()?e.replace("/api/v2/msp/{mspId}","/api/v1/central/msp/{mspId}"):App.user.isGlobalView()&&!App.user.isStandardUser()?e.replace("/api/v2","/api/v1/central/msp/{mspId}/customer/{centralId}"):e.replace("/api/v2","/api/v1/central/{centralId}")},d.su.central2omada=function(e){return e=App.user.isMspView()?e.replace("/api/v1/central/msp/{mspId}","/api/v2/msp/{mspId}"):App.user.isGlobalView()&&!App.user.isStandardUser()?e.replace("/api/v1/central/msp/{mspId}/customer/{centralId}","/api/v2"):e.replace("/api/v1/central/{centralId}","/api/v2")},d.su.getNumberRangeStr=function(e,t){return d.su.language.isRtl()?e+"‏-‏"+t:e+"-"+t},d.su.displayRenderer=function(r,e){var i=r||"";return r&&d.each(e,function(e,t){if(t.value===r)return i=t.name,!1}),i},d.su.generateUrl=function(e,t){return'<a class="link" target="_blank" href="'+e+'">'+t+"</a>"},d.su.qs=(e=>{if(""==e)return{};for(var t={},r=0;r<e.length;++r){var i=e[r].split("=",2);1==i.length?t[i[0]]="":t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "))}return t})(window.location.search.substr(1).split("&")),d.su.emitModalEvent=function(e,t,r=!0){d(document).trigger("modal_event",{visible:t,left:e.offset().left,top:e.offset().top,width:e.outerWidth(),height:e.outerHeight(),isModal:r})};{let n=new Intl.PluralRules("en-US"),r=new Map([["3",e=>d.su.pluralize(e,d.su.CHAR.SUBSCRIPTIONS.YEAR,d.su.CHAR.SUBSCRIPTIONS.YEARS)]]);d.su.intCurMap=["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"],d.su.pluralize=function(e,t,r){var i=n.select(e);switch(i){case"one":return e+" "+t;case"other":return e+" "+r;default:throw new Error("Unknown: "+i)}},d.su.formatDuration=function(e,t=3){return r.get(t.toString())(e)},d.su.getCurSymbol=function(e){return e},d.su.formatPrice=function(e,t){return t&&d.su.intCurMap.includes(t)?parseInt(Math.round(Number(e))):Number(Math.round(100*Number(e))/100).toFixed(2)},d.su.formatTaxRate=function(e){return Number(Math.round(1e3*Number(e))/1e3).toFixed(3)},d.su.getPlanText=function(e){return{advanced:d.su.CHAR.LICENSE.CATEGORY_CBC,pro:d.su.CHAR.LICENSE.CATEGORY_PRO}[e]||""},d.su.stampToTime=function(e,t,r,i){e="number"===d.type(e)?e:parseInt(e,10);var n,s,a,o,e=new Date(e),l=d.su.CHAR.DATEPICKER,u=[l.JAN,l.FEB,l.MAR,l.APR,l.MAY,l.JUN,l.JUL,l.AUG,l.SEP,l.OCT,l.NOV,l.DEC],c=i?(n=e.getUTCFullYear(),s=e.getUTCMonth(),e.getUTCDate()):(n=e.getFullYear(),s=e.getMonth(),e.getDate()),r=r?n+"-"+(s+1)+"-"+c:u[s]+" "+c+", "+n;return t?(u=i?(a=e.getUTCHours(),o=e.getUTCMinutes(),e.getUTCSeconds()):(a=e.getHours(),o=e.getMinutes(),e.getSeconds()),{date:r,time:d.appUtils.getUiInterface("use24hour")?p(a)+":"+p(o)+":"+p(u):(a%12==0?12:p(a%12))+":"+p(o)+":"+p(u)+" "+(12<=a?l.PM:l.AM)}):r;function p(e){return"NaN"!=Number(e).toString()&&0<=e&&e<10?"0"+Math.floor(e):e.toString()}},d.su.calculateVersion=function(e){e=e.split(".");return parseInt(e[0])*Math.pow(100,2)+100*parseInt(e[1])+parseInt(e[2])},d.su.urlCtrl=(()=>{let t=new URL(window.location),r=t.searchParams;return{clearSearch:function(e){e.forEach(e=>r.delete(e)),history.replaceState(null,"",t)},getSearchParams:function(e){return r.get(e)}}})(),d.su.hasContinuousSameCharacter=function(e){let r=e.split("");return!!r.find((e,t)=>r[t]===r[t+1])}}})(jQuery),(e=>{function t(){this.eventDealer={eventInfo:{}}}e.su=e.su||{},e.su.Observable=(t.prototype.addListener=function(e,t,r,i){var n=this;if("string"!=typeof e)for(e in i=e)i.hasOwnProperty(e)&&(config=i[e],n.addListener(e,config.fn||config,config.scope||i.scope,config.fn?config:i));else{if(r=r||n,"string"==typeof t){if(!r[t]&&!n[t])throw new Error('No method named "'+t+'"');t=r[t]||n[t]}n.eventDealer.eventInfo[e]?n.eventDealer.eventInfo[e].push({fn:t,scope:r}):n.eventDealer.eventInfo[e]=[{fn:t,scope:r}]}},t.prototype.removeListener=function(e,t,r,i){var n=this;if("string"!=typeof e)for(e in i=e)i.hasOwnProperty(e)&&(config=i[e],n.removeListener(e,config.fn||config,config.scope||i.scope,config.fn?config:i));else{if(r=r||n,"string"==typeof t){if(!r[t]&&!n[t])throw new Error('No method named "'+t+'"');t=r[t]||n[t]}if(!n.eventDealer.eventInfo[e])return!1;if(void 0===t)delete n.eventDealer.eventInfo[e];else for(var s=n.eventDealer.eventInfo[e].length-1;0<=s;s--){var a=n.eventDealer.eventInfo[e][s];a.fn==t&&a.scope==r&&n.eventDealer.eventInfo[e].splice(s,1)}}},t.prototype.one=function(e,t,r){r=r||this,this.eventDealer.eventInfo[e]?this.eventDealer.eventInfo[e].push({fn:t,scope:r,once:!0}):this.eventDealer.eventInfo[e]=[{fn:t,scope:r,once:!0}]},t.prototype.fireEvent=function(e,t){this.eventDealer;var r=this.eventDealer.eventInfo[e];if(r)for(var i=r.slice(0),n=0;n<i.length;n++)i[n].fn.apply(i[n].scope,[i].concat(t)),i[n].once&&this.removeListener(e,i[n].fn,i[n].scope)},t.prototype.clearListeners=function(){this.eventDealer.eventInfo={}},t.prototype.destroy=function(){this.clearListeners(),delete this.eventDealer},t.prototype.trigger=t.prototype.fireEvent,t.prototype.on=t.prototype.addListener,t.prototype.off=t.prototype.removeListener,t)})(jQuery),(s=>{function n(e,t){s.su.Observable.call(this,t),this._id=s.su.randomId("view"),this._name=e,this._childrenWidgets={},this._DOM="string"==typeof t?s(t):t.clone(),this._container=null,r.call(this)}var a,r;s.su.View=(s.su.inherit(s.su.Observable,n),a={"WIDGET_RENDERED":"ev_view_widget_rendered","WIDGET_CREATED":"ev_view_widget_created","WIDGET_WILL_DESTROY":"ev_view_widget_will_destroy"},r=function(){var e=this._DOM.find("[widget]");if(0!==e.length)for(var t=0;t<e.length;t++){var r=e[t],i=r.id;i||(r.id=i=s.su.randomId("widget-")),this._childrenWidgets[i]={attributes:n.transWidgetOptions(r.attributes),config:null,instance:null}}},n.transWidgetOptions=function(e){for(var t={},r=0;r<e.length;r++){var i=e[r].nodeValue;this._name;t[e[r].nodeName]=i}return t},n.prototype.getChild=function(e){return this._childrenWidgets[e].instance},n.prototype.getWidgetsMap=function(){return this._childrenWidgets},n.prototype.getName=function(){return this._name},n.prototype.getID=function(){return this._id},n.prototype.dom=function(){return this._DOM},n.prototype.isEffective=function(){return 0!==s('div[view="{'+this._name+'}"]').length},n.prototype.configChildrenWidgets=function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t].id,r=this._childrenWidgets[r];r&&(r.config=e[t],e[t].model)&&(r.attributes["data-bind"]=e[t].model)}},n.prototype.clear=function(){for(var e in this._childrenWidgets)this._childrenWidgets.hasOwnProperty(e)&&this._childrenWidgets[e].instance&&this._childrenWidgets[e].instance._destroy();this._childrenWidgets={}},n.prototype.createChildrenWidgets=function(){for(var e in this._childrenWidgets){var t,r,i,n;this._childrenWidgets.hasOwnProperty(e)&&(e=e,t=null,r=this._childrenWidgets[e],s("#"+e).data("viewObj")?r.instance=s("#"+e).data("viewObj"):(n=(i=s.extend(!0,{},r.attributes,r.config)).widget,s.su.widgets[n]&&(t=new s.su.widgets[n]({id:e,view:this,settings:i})),r.instance=t),this.fireEvent(a.WIDGET_CREATED,[r,this]))}},n.prototype.setContainer=function(e){(this._container=e).load&&e.load(this._DOM)},n.prototype.render=function(){var r,i=this,n=[],e=s.Deferred();return 0==s.su.getObjectLength(this._childrenWidgets)?e.resolve():(r=s.extend({},this._childrenWidgets),s.each(r,function(e,t){r.hasOwnProperty(e)&&i._childrenWidgets.hasOwnProperty(e)&&n.push(t.instance.render())}),s.when.apply(this,n).done(function(){i.rendered=!0,e.resolve()})),e.promise()},n.prototype.removeChildWidget=function(e){s.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var r=e[t].domId;this.fireEvent(a.WIDGET_WILL_DESTROY,[e[t],this]),this._childrenWidgets[r]=null,delete this._childrenWidgets[r]}},n.prototype.addChildWidget=function(e){s.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var r=e[t].domId;this._childrenWidgets[r]||(this._childrenWidgets[r]={instance:e[t],attributes:n.transWidgetOptions(e[t].dom().get(0).attributes)})}},n.prototype.onChildWidgetRendered=function(e){e=e.domId;this.fireEvent(a.WIDGET_RENDERED,[this._childrenWidgets[e],this])},n.prototype.destroy=function(){n.superclass.destroy.call(this),delete this._id,delete this._name,delete this._childrenWidgets,this._DOM.remove(),delete this._DOM,delete this._container},n.EVENT=a,n)})(jQuery),(u=>{function i(e){u.su.Observable.call(this,e),e=u.extend(!0,{},t,e),(this.settings=e).host&&(e.host=u(e.host),0==e.host.length)&&(e.host=null),this.data={views:{},models:{},stores:{}},this.autoDestroy=e.autoDestroy,this.isController=!0,this.id=u.su.randomId("controller"),this.addListener(e.listeners),this.dataEventsMap={},this.domEventsMap={},this.effectiveViewDatas={},this._init()}function c(e,t){var r,i,n=e.instance,s=e.attributes,a=t._name;for(r in this.effectiveViewDatas[a]||(this.effectiveViewDatas[a]=[]),s)s.hasOwnProperty(r)&&r.match(/data-(.+)/g)&&(i=this._getAttrBind(s[r],a))instanceof u.su.DataBind&&(i.bindViewObj(n),this.effectiveViewDatas[a].push({viewObj:n,bind:i}))}function p(e,t){var r=e,i=t._name;if(e.dataBind){for(var n=e.dataBind,s=n.length;0<s;s--){n[s-1].unbindViewObj(e);var a=this.effectiveViewDatas[i];if(a)for(var o=a.length;0<o;o--)a[o-1].viewObj===r&&a[o-1].bind===n[s-1]&&a.splice(o-1,1)}e.dataBind=[]}}function d(e){s.call(this),s.call(this),u.each(this.domEventsMap,function(n,e){u.each(e,function(e,t){for(var r=0;r<t.length;r++){var i=n.split("=>");1==i.length?u(n).on(e,t[r].effectiveHandler):(2!==i.length&&console.error("bindEvent error, incorrect selector format"),u(i[0]).delegate(i[1],e,t[r].effectiveHandler))}})})}var t,s;u.su.Controller=(t={xtype:"controller",host:null,views:null,stores:null,models:null,listeners:{"ev_view_will_unload":function(e,t){t="_default"===t?this._getView(this.view[0]):this._getView(t);t&&(t.clear(),t.destroy()),!this.viewsEffective()&&this.autoDestroy&&this.fireEvent("ev_to_destroy",this.name)}},autoDestroy:!0},u.su.inherit(u.su.Observable,i),i.prototype._getAttrBind=function(e,t){return e=e.replace(/[\{,\}]/g,""),u.su.getAttrObject(this.data.models,e)||u.su.getAttrObject(this.data.stores,e)||u.su.getAttrObject(this.data.stores,e)||u.su.getAttrObject(this.data.views[t],e)},s=function(){u.each(this.domEventsMap,function(n,e){u.each(e,function(e,t){for(var r=0;r<t.length;r++){var i=n.split("=>");1==i.length?u(n).off(e,t[r].effectiveHandler):(2!==i.length&&console.error("bindEvent error, incorrect selector format"),u(i[0]).undelegate(i[1],e,t[r].effectiveHandler))}})})},i.prototype._init=function(){this.initViews(),this.initModels(),this.initStores(),this.initViewData()},i.prototype.launch=function(e){!function(e){if(e)0<=u.inArray(e,this.view)&&this._getView(e).createChildrenWidgets();else for(var t in this.view)this.view.hasOwnProperty(t)&&(t=this._getView(this.view[t])).isEffective()&&t.createChildrenWidgets()}.call(this),u.when(function(e){var t,r=u.Deferred(),i=this,n=[];if(this.fireEvent("before_render"),e)0<=u.inArray(e,this.view)&&u.when(this._getView(e).render()).done(function(){d.call(i),i.fireEvent("ev_after_view_render",[e]),r.resolve()});else{for(t=0;t<this.view.length;t++)this._getView(this.view[t]).isEffective()&&n.push(this._getView(this.view[t]).render());u.when.apply(this,n).done(function(){d.call(i),i.fireEvent("ev_after_views_render"),r.resolve()})}return r.promise()}.call(this)).done(e)},i.prototype.initViews=function(){var e,i=this,t=this.settings;if(this.view=[],this._viewsMap={},t.views)for(var r=0;r<t.views.length;r++){var n=t.views[r];this.view.push(n),e=u.su.viewManager.init(n=n),(this._viewsMap[n]=e).addListener(u.su.View.EVENT.WIDGET_RENDERED,function(e,t,r){c.call(i,t,r)}),e.addListener(u.su.View.EVENT.WIDGET_WILL_DESTROY,function(e,t,r){p.call(i,t,r)})}},i.prototype.initModels=function(){var e=this.settings;if(this.model=e.models,this.model)for(var t=0;t<this.model.length;t++)u.su.modelManager.init(this.model[t])},i.prototype.initStores=function(e){e=this.settings;if(this.store=e.stores,this.store)for(var t=0;t<this.store.length;t++)u.su.storeManager.init(this.store[t])},i.prototype.initViewData=function(){var e,r=this;this.settings;if(this.data.stores={},this.data.models={},this.data.views={},this.store)for(e=0;e<this.store.length;e++)this.data.stores[this.store[e]]=new u.su.StoreBind(this._getStore(this.store[e]));if(this.model)for(e=0;e<this.model.length;e++)this.data.models[this.model[e]]=new u.su.ModelBind(this._getModel(this.model[e]));if(this.view)for(e=0;e<this.view.length;e++){var i=this.view[e],t=this._getView(i);this.data.views[i]={},u.each(t.getWidgetsMap(),function(e,t){u.each(t.attributes,function(e,t){e.match(/data-(.+)/g)&&!r._getAttrBind(t,i)&&(e=new u.su.DataFieldBind(new u.su.Model.DataField),t=t.replace(/[\{,\}]/g,""),r.data.views[i][t]=e)})})}},i.prototype.configViews=function(e){u.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var r=e[t],i=r.id,r=r.items;this._getView(i).configChildrenWidgets(r)}},i.prototype.control=function(e){var t,r=this;for(t in e)if(e.hasOwnProperty(t))for(var i in e[t])if(e[t].hasOwnProperty(i)){var n=e[t][i];if("string"==typeof n){if(!r[n])throw new Error('No method named "'+n+'"');n=r[n]}var s=(e=>function(){e.apply(r,arguments)})(n),a=t.split("=>");if(1==a.length)u(t).on(i,s);else{if(2!==a.length)throw new Error("bindEvent error, incorrect selector format");u(a[0]).delegate(a[1],i,s)}this.domEventsMap[t]||(this.domEventsMap[t]={}),this.domEventsMap[t][i]||(this.domEventsMap[t][i]=[]),this.domEventsMap[t][i].push({effectiveHandler:s,handler:n})}},i.prototype.unControl=function(e){for(var t in e)if(e.hasOwnProperty(t))for(var r in e[t])if(e[t].hasOwnProperty(r)){var i=t.split("=>"),n=e[t][r];if("string"==typeof n){if(!this[n])throw new Error('No method named "'+n+'"');n=this[n]}if(this.domEventsMap[t]&&this.domEventsMap[t][r])for(var s=this.domEventsMap[t][r].length-1;0<=s;s--)if(this.domEventsMap[t][r][s].handler==n){if(1==i.length)u(t).off(r,this.domEventsMap[t][r][s].effectiveHandler);else{if(2!==i.length)throw new Error("bindEvent error, incorrect selector format");u(i[0]).undelegate(i[1],r,this.domEventsMap[t][r][s].effectiveHandler)}this.domEventsMap[t][r].splice(s,1);break}}},i.prototype.listen=function(e){for(var t in e)if(e.hasOwnProperty(t)){var r,i,n=u.su.getAttrObject(this.data,t);for(i in n||"views"===(r=t.split("."))[0]&&this.data.views[r[1]]&&void 0!==r[2]&&(n=this.data.views[r[1]][r[2]]=new u.su.DataFieldBind(new u.su.Model.DataField)),e[t])if(e[t].hasOwnProperty(i)){var s=e[t][i];if("string"==typeof s){if(!this[s])throw new Error('No method named "'+s+'"');s=this[s]}n.addListener(i,s,this),this.dataEventsMap[t]||(this.dataEventsMap[t]={}),this.dataEventsMap[t][i]||(this.dataEventsMap[t][i]=[]),this.dataEventsMap[t][i].push(s)}}},i.prototype.unListen=function(e){var t,r;for(r in e)if(e.hasOwnProperty(r)){var i,n=u.su.getAttrObject(this.data,r);for(i in e[r])if(e[r].hasOwnProperty(i)){var s=e[r][i];if("string"==typeof s){if(!this[s])throw new Error('No method named "'+s+'"');s=this[s]}this.dataEventsMap[r]&&this.dataEventsMap[r][i]&&0<=(t=u.inArray(s,this.dataEventsMap[r][i]))&&(n.removeListener(i,s,this),this.dataEventsMap[r][i].splice(t,1))}}},i.prototype.addModel=function(e){for(var t,r=0,i=(e=u.isArray(e)?e:[e]).length;r<i;r++)if(t=e[r],u.su.modelManager.getStatus(t))u.su.modelManager.init(t),this.model.push(t),this.data.models[t]=new u.su.ModelBind(u.su.modelManager.get(t));else{if(!u.su.storeManager.getStatus(t))throw new Error("model not defined");u.su.storeManager.init(t),this.store.push(t),this.data.stores[t]=new u.su.StoreBind(u.su.storeManager.get(t))}},i.prototype.updateView=function(e,t){var r,i=u.Deferred(),n=this,s=[],a=u.su.viewManager;if(this.fireEvent("before_render"),"string"!=typeof e&&(t=e,e=null),e)this.unbindView(e),0<=u.inArray(e,this.view)&&(l=(o=this._getView(e))._container,a.removeByID(o.getID()),o=a.init(e),(this._viewsMap[e]=o).addListener(u.su.View.EVENT.WIDGET_RENDERED,function(e,t,r){c.call(n,t,r)}),o.addListener(u.su.View.EVENT.WIDGET_WILL_DESTROY,function(e,t,r){p.call(n,t,r)}),o.setContainer(l),o.createChildrenWidgets(),u.when(o.render()).done(function(){d.call(n),n.fireEvent("ev_after_view_render",[e]),t&&t(),i.resolve()}));else{for(this.unbindView(),r=0;r<this.view.length;r++){var o,l=(o=this._getView(this.view[r]))._container;a.removeByID(o.getID()),o=a.init(this.view[r]),(this._viewsMap[this.view[r]]=o).addListener(u.su.View.EVENT.WIDGET_RENDERED,function(e,t,r){c.call(n,t,r)}),o.addListener(u.su.View.EVENT.WIDGET_WILL_DESTROY,function(e,t,r){p.call(n,t,r)}),o.setContainer(l),o.createChildrenWidgets(),o.isEffective()&&s.push(o.render())}u.when.apply(this,s).done(function(){d.call(n),n.fireEvent("ev_after_views_render"),t&&t(),i.resolve()})}return i.promise()},i.prototype._getStore=function(e){return 0<=u.inArray(e,this.store)?u.su.storeManager.get(e):null},i.prototype._getModel=function(e){return 0<=u.inArray(e,this.model)?u.su.modelManager.get(e):null},i.prototype._getView=function(e){return e=e||this.view[0],this._viewsMap[e]},i.prototype.getStore=function(e){return this.data.stores[e]},i.prototype.getModel=function(e){return this.data.models[e]},i.prototype.getView=function(e){return this.data.views[e]},i.prototype.getEffectiveView=function(){for(var e in this.effectiveViewDatas)if(this.effectiveViewDatas.hasOwnProperty(e)&&this._getView(e).isEffective())return e},i.prototype.viewsEffective=function(){for(var e=0;e<this.view.length;e++)if(!this._getView(this.view[e]).isEffective())return!1;return!0},i.prototype.unbindView=function(e){if(e&&0<=u.inArray(e,this.view)){if(this.effectiveViewDatas[e])for(var t=0;t<this.effectiveViewDatas[e].length;t++){var r=this.effectiveViewDatas[e][t].viewObj;this.effectiveViewDatas[e][t].bind.unbindViewObj(r)}this.effectiveViewDatas[e]=[]}else for(var i=0;i<this.view.length;i++)this.unbindView(this.view[i])},i.prototype.destroy=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&e[t].unbind()}var t,r,n=this;i.superclass.destroy.call(this),s.call(this),u.each(this.dataEventsMap,function(e,t){var i=u.su.getAttrObject(n.data,e);u.each(t,function(e,t){for(var r=0;r<t.length;r++)i.removeListener(e,t[r],n)})});for(t in this.data.views)this.data.views.hasOwnProperty(t)&&e(this.data.views[t]);for(r in this._viewsMap)this._viewsMap.hasOwnProperty(r)&&u.su.viewManager.removeByID(this._getView(r).getID());e(this.data.models),e(this.data.stores),this.data.views={},this.data.models={},this.data.stores={},this.effectiveViewDatas={}},i)})(jQuery),(r=>{function i(e){e=r.extend(!0,{},t,e),this.name=e.name,this.status=i.STATUS.AVAILABLE,r.su.Controller.call(this,e)}var t;r.su.Module=(t={container:null,page:"",controller:null,autoRender:!1,deps:null,service:null,init:function(e){},onLaunch:function(){}},r.su.inherit(r.su.Controller,i),i.prototype._init=function(){this.data.deps={},this.services={},this.initDeps(),this.initServices();for(var e=0;e<this.deps.length;e++)this.data.deps[this.deps[e]]=this.getDep(this.deps[e]);i.superclass._init.call(this);var t=this.factory.call(this,this,this.data.views,this.data.models,this.data.stores,this.data.deps,this.services);t&&r.extend(this,t),this.settings.init.call(this,this,this.data.views,this.data.models,this.data.stores,this.data.deps,this.services)},i.prototype.initDeps=function(){var e=this.settings;this.deps=e.deps;for(var t=0;t<this.deps.length;t++)r.su.moduleManager.init(this.deps[t])},i.prototype.initServices=function(){var e=this.settings.services;if(e)for(var t=0;t<e.length;t++)this.services[e[t]]=r.su.serviceManager.get(e[t])},i.prototype._getAttrBind=function(e,t){return e=e.replace(/[\{,\}]/g,""),r.su.getAttrObject(this.data.models,e)||r.su.getAttrObject(this.data.stores,e)||r.su.getAttrObject(this.data.views[t],e)||r.su.getAttrObject(this.data.deps,e)},i.prototype.load=function(e){var t=this;this.status==i.STATUS.RUNNING?this.updateView(e):this.launch(function(){t.status=i.STATUS.RUNNING,e&&e()})},i.prototype.launch=function(e){this.trigger("ev_before_launch");var t=this;i.superclass.launch.call(this,function(){try{t.trigger("ev_on_launch",[t,t.data.views,t.data.models,t.data.stores,t.data.deps,t.services])}catch(e){console.error(e)}e&&e()})},i.prototype.getDep=function(e){return 0<=r.inArray(e,this.deps)?r.su.moduleManager.query(e):null},i.prototype.getService=function(e){return this.services[e]},i.prototype.destroy=function(){this.fireEvent("ev_before_destroy",[this,this.data.views,this.data.models,this.data.stores,this.data.deps,this.services]),i.superclass.destroy.call(this),this.data.deps={},this.services={}},i.EVENT={AFTER_RENDER:"afterRender"},i.STATUS={AVAILABLE:"available",RUNNING:"running"},i)})(jQuery),(()=>{function r(){return this.msg||this.message}$.su.Error=function(e){"string"==typeof e&&(e={msg:e});var t=new Error;return $.su.apply(t,e),t.message=t.message||t.msg,t.toString=r,t},$.su.apply($.su.Error,{ignore:!1,raise:function(e){if(!0!==this.handle(e="string"==typeof(e=e||{})?{msg:e}:e))throw new $.su.Error(e)},handle:function(){return this.ignore}})})(),$.su.raise=function(){$.su.Error.raise.apply($.su.Error,arguments)},(o=>{o.su.Router=(()=>{function e(){o.su.Observable.call(this),this.routerList={},this.modelsMap={},this.helpMap={},this._fileLoading=[],this._fileLoaded=[],this._fileLoadedHandlerMap={},this.addListener("ev_file_loaded",function(e,t){for(var r=this._fileLoadedHandlerMap[t];r&&r.length;)r.shift()()})}function a(e,t){this._fileLoadedHandlerMap[e]?this._fileLoadedHandlerMap[e].push(t):this._fileLoadedHandlerMap[e]=[t]}function r(i,e){var t,n,r=this,s=o.get;e&&("script"===e.type&&(s=o.getScript),t=e.success,n=e.fail),0<=o.inArray(i,this._fileLoaded)?t&&t():0<=o.inArray(i,this._fileLoading)?t&&a.call(r,i,t):(t&&a.call(r,i,t),s(i).done(function(){var e=o.inArray(i,r._fileLoading);r._fileLoading.splice(e,1),r._fileLoaded.push(i),r.fireEvent("ev_file_loaded",[i])}).fail(function(e,t,r){n&&n(),o.su.debug.error("load file error: ",i,"\n",r)}),this._fileLoading.push(i))}return o.su.inherit(o.su.Observable,e),e.prototype.loadFile=function(e,t){r.call(this,e,{success:t})},e.prototype.loadScript=function(e,t){r.call(this,e,{type:"script",success:t})},e.prototype.set=function(e){o.isEmptyObject(e)||(o.each(e,function(e,t){for(var r in"string"==typeof t.controller&&(t.controller={_default:t.controller}),"string"==typeof t.view&&(t.view={_default:t.view}),t)t.hasOwnProperty(r)&&"controller"!==r&&"view"!==r&&("string"==typeof t[r].controller&&(t.controller=t.controller||{},t.controller[r]=t[r].controller),"string"==typeof t[r].view&&(t.view=t.view||{},t.view[r]=t[r].view),delete t[r])}),this.routerList=e)},e.prototype.setItem=function(e,t){this.routerList[e]?o.extend(!0,this.routerList[e],t):this.routerList[e]=t,"string"==typeof this.routerList[e].controller&&(this.routerList[e].controller={_default:this.routerList[e].controller}),"string"==typeof this.routerList[e].view&&(this.routerList[e].view={_default:this.routerList[e].view})},e.prototype.query=function(e){return this.routerList[e]},e.prototype.loadController=function(e,t,r){var i,t="function"==typeof t?t:(i=t,r),r=this.routerList[e];i&&r.controller[i]?this.loadFile.call(this,r.controller[i],t):this.loadFile.call(this,r.controller._default,t)},e.prototype.loadView=function(e,t,r){var i,t="function"==typeof t?t:(i=t,r),r=this.routerList[e];(i&&r.view[i]?o.get(r.view[i]):o.get(r.view._default)).done(t)},e.prototype.setModelsPath=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.modelsMap[t]=e[t])},e.prototype.loadModel=function(e,t){if(!this.modelsMap[e])throw new Error('Model "'+e+'" has not declare file path');this.loadFile.call(this,this.modelsMap[e],t)},e.prototype.setHelpPath=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.helpMap[t]=e[t])},e.prototype.loadHelp=function(e,t){var r=this.helpMap[e]||{struct:e+".html",name:e};o.get("./help/"+r.struct,function(e){t(r.name,e)})},e})()})(jQuery);