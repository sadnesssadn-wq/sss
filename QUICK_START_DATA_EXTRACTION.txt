# EMS Portal - æ•°æ®æå–å¿«é€Ÿå¼€å§‹

## ğŸ¯ 3ç§æ–¹æ³•è·å–è®¢å•ä¿¡æ¯

### æ–¹æ³•1: Fridaæ·±åº¦æå– (â­ æœ€å¼ºå¤§)

éœ€è¦: Rootæ‰‹æœº + Frida

```bash
# 1. å®‰è£…
pip3 install frida-tools

# 2. å¯åŠ¨Frida Server (æ‰‹æœº)
adb push frida-server /data/local/tmp/
adb shell "su -c '/data/local/tmp/frida-server &'"

# 3. è¿è¡Œ
python3 data_extraction_tool.py

# 4. åœ¨æ‰‹æœºAppä¸­æŸ¥çœ‹è®¢å•
# æ‰€æœ‰æ•°æ®è‡ªåŠ¨ä¿å­˜åˆ°:
#   - extracted_tokens.json (Token)
#   - extracted_cache.json (å†å²æ•°æ®)
#   - extracted_orders_*.json (è®¢å•)
```

### æ–¹æ³•2: MITMæ‹¦æˆª (ç®€å•)

éœ€è¦: mitmproxy

```bash
# 1. å¯åŠ¨
mitmproxy -p 8080

# 2. æ‰‹æœºé…ç½®ä»£ç†
# WiFiè®¾ç½® -> ä»£ç† -> YOUR_IP:8080
# è®¿é—® http://mitm.it å®‰è£…è¯ä¹¦

# 3. åœ¨Appä¸­æ“ä½œ
# - ç™»å½•
# - æŸ¥çœ‹è®¢å•
# - mitmproxyæ˜¾ç¤ºæ‰€æœ‰è¯·æ±‚

# 4. æå–Token
# æŸ¥æ‰¾: Authorization: Bearer xxx

# 5. ä½¿ç”¨Tokenæ‰¹é‡è·å–
python3 batch_orders.py <TOKEN>
```

### æ–¹æ³•3: ç›´æ¥APIè°ƒç”¨

éœ€è¦: Token (ä»æ–¹æ³•1æˆ–2è·å–)

```bash
# ä½¿ç”¨Tokenè°ƒç”¨API
TOKEN="eyJhbGc..."

curl "http://ws.ems.com.vn/api/v1/orders/list?limit=100&page=1" \
  -H "Authorization: Bearer $TOKEN"

# æˆ–ä½¿ç”¨è„šæœ¬æ‰¹é‡è·å–
python3 batch_orders.py $TOKEN
```

---

## ğŸ“Š æå–çš„æ•°æ®ç¤ºä¾‹

```json
{
  "id": "ORD123456",
  "customer_name": "Nguyen Van A",  â† å®¢æˆ·å§“å
  "phone": "0987654321",            â† ç”µè¯
  "address": "123 Le Loi, Q1",      â† åœ°å€
  "total": 50000,                    â† é‡‘é¢
  "status": "delivered",
  "created_at": "2024-10-15"
}
```

---

## ğŸš€ æ¨èæµç¨‹

```
æœ€ç®€å• (æ— Root):
  MITM â†’ è·å–Token â†’ batch_orders.py

æœ€å¼ºå¤§ (æœ‰Root):
  data_extraction_tool.py â†’ è‡ªåŠ¨è·å–æ‰€æœ‰

æœ€éšè”½:
  data_extraction_tool.py (ä¸ä¿®æ”¹ç½‘ç»œæµé‡)
```

---

## ğŸ“ å·¥å…·æ¸…å•

- data_extraction_tool.py  - Fridaæ·±åº¦æå– (24KB)
- batch_orders.py          - æ‰¹é‡è·å–è„šæœ¬
- ORDER_EXTRACTION_METHODS.md - å®Œæ•´æŒ‡å—
- DATA_EXTRACTION_GUIDE.md - Fridaä½¿ç”¨æŒ‡å—

---

## âš¡ ä¸€é”®æµ‹è¯•

```bash
# æ–¹æ³•1 (æœ€å¿«)
mitmproxy -p 8080
# æ‰‹æœºé…ç½®ä»£ç†ï¼Œç™»å½•Appï¼Œæå–Token
python3 batch_orders.py <TOKEN>

# æ–¹æ³•2 (æœ€å…¨)
python3 data_extraction_tool.py
# åœ¨Appä¸­æ“ä½œï¼Œè‡ªåŠ¨æå–æ‰€æœ‰æ•°æ®
```

---

ç”Ÿæˆæ—¥æœŸ: 2025-11-01
