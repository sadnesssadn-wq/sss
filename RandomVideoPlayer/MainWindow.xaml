<Window x:Class="RandomVideoPlayer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="随机特效视频播放器"
        Height="720"
        Width="1280"
        MinHeight="600"
        MinWidth="1000">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0"
                    BorderBrush="#444"
                    BorderThickness="1"
                    CornerRadius="6"
                    Background="#111">
                <Viewbox Stretch="Uniform">
                    <MediaElement x:Name="VideoElement"
                                  LoadedBehavior="Manual"
                                  UnloadedBehavior="Stop"
                                  Stretch="Uniform"
                                  MediaEnded="VideoElement_MediaEnded"
                                  MediaOpened="VideoElement_MediaOpened"
                                  MediaFailed="VideoElement_MediaFailed">
                        <MediaElement.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform x:Name="ScaleTransformElement"
                                                ScaleX="1"
                                                ScaleY="1"/>
                                <TranslateTransform x:Name="TranslateTransformElement"
                                                    X="0"
                                                    Y="0"/>
                            </TransformGroup>
                        </MediaElement.RenderTransform>
                        <MediaElement.RenderTransformOrigin>0.5,0.5</MediaElement.RenderTransformOrigin>
                    </MediaElement>
                </Viewbox>
            </Border>

            <StackPanel Grid.Row="1"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,12,0,0"
                        Spacing="12">
                <Button x:Name="ChooseFolderButton"
                        Width="120"
                        Content="选择文件夹"
                        Click="ChooseFolderButton_Click"/>
                <Button x:Name="PlayButton"
                        Width="90"
                        Content="播放"
                        Click="PlayButton_Click"/>
                <Button x:Name="PauseButton"
                        Width="90"
                        Content="暂停"
                        Click="PauseButton_Click"/>
                <Button x:Name="NextButton"
                        Width="90"
                        Content="下一个"
                        Click="NextButton_Click"/>
            </StackPanel>

            <TextBlock Grid.Row="1"
                       Margin="12,52,12,0"
                       TextWrapping="Wrap"
                       Text="未选择任何文件夹"
                       HorizontalAlignment="Center"
                       Foreground="#ddd"
                       x:Name="FolderLabel"/>
        </Grid>

        <Border Grid.Column="1"
                BorderBrush="#444"
                BorderThickness="1"
                CornerRadius="6"
                Padding="12"
                Margin="12,0,0,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Spacing="12">
                    <GroupBox Header="随机移动">
                        <StackPanel Margin="8" Spacing="8">
                            <CheckBox x:Name="MoveEnabledCheckBox"
                                      Content="启用随机移动"
                                      IsChecked="True"/>
                            <TextBlock Text="{Binding ElementName=MoveRangeSlider, Path=Value, StringFormat=移动幅度：{0:F0}px}"/>
                            <Slider x:Name="MoveRangeSlider"
                                    Minimum="0"
                                    Maximum="300"
                                    Value="60"
                                    TickFrequency="10"
                                    IsSnapToTickEnabled="True"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="随机变速">
                        <StackPanel Margin="8" Spacing="8">
                            <CheckBox x:Name="SpeedEnabledCheckBox"
                                      Content="启用随机变速"
                                      IsChecked="True"/>
                            <TextBlock Text="{Binding ElementName=SpeedMinSlider, Path=Value, StringFormat=最小速度：{0:F1}x}"/>
                            <Slider x:Name="SpeedMinSlider"
                                    Minimum="0.2"
                                    Maximum="2.0"
                                    Value="0.8"
                                    TickFrequency="0.1"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=SpeedMaxSlider, Path=Value, StringFormat=最大速度：{0:F1}x}"/>
                            <Slider x:Name="SpeedMaxSlider"
                                    Minimum="0.5"
                                    Maximum="3.0"
                                    Value="1.6"
                                    TickFrequency="0.1"
                                    IsSnapToTickEnabled="True"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="随机缩放">
                        <StackPanel Margin="8" Spacing="8">
                            <CheckBox x:Name="ZoomEnabledCheckBox"
                                      Content="启用随机缩放"
                                      IsChecked="True"/>
                            <TextBlock Text="{Binding ElementName=ZoomMinSlider, Path=Value, StringFormat=最小缩放：{0:F2}}"/>
                            <Slider x:Name="ZoomMinSlider"
                                    Minimum="0.5"
                                    Maximum="1.0"
                                    Value="0.9"
                                    TickFrequency="0.05"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=ZoomMaxSlider, Path=Value, StringFormat=最大缩放：{0:F2}}"/>
                            <Slider x:Name="ZoomMaxSlider"
                                    Minimum="1.0"
                                    Maximum="2.5"
                                    Value="1.3"
                                    TickFrequency="0.05"
                                    IsSnapToTickEnabled="True"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="随机镜像">
                        <StackPanel Margin="8" Spacing="8">
                            <CheckBox x:Name="MirrorEnabledCheckBox"
                                      Content="启用随机镜像"
                                      IsChecked="True"/>
                            <TextBlock Text="{Binding ElementName=MirrorIntervalMinSlider, Path=Value, StringFormat=正常播放最短间隔：{0:F0}秒}"/>
                            <Slider x:Name="MirrorIntervalMinSlider"
                                    Minimum="2"
                                    Maximum="60"
                                    Value="10"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=MirrorIntervalMaxSlider, Path=Value, StringFormat=正常播放最长间隔：{0:F0}秒}"/>
                            <Slider x:Name="MirrorIntervalMaxSlider"
                                    Minimum="5"
                                    Maximum="90"
                                    Value="20"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=MirrorDurationMinSlider, Path=Value, StringFormat=镜像最短时长：{0:F0}秒}"/>
                            <Slider x:Name="MirrorDurationMinSlider"
                                    Minimum="1"
                                    Maximum="30"
                                    Value="2"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=MirrorDurationMaxSlider, Path=Value, StringFormat=镜像最长时长：{0:F0}秒}"/>
                            <Slider x:Name="MirrorDurationMaxSlider"
                                    Minimum="1"
                                    Maximum="30"
                                    Value="5"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="随机快进">
                        <StackPanel Margin="8" Spacing="8">
                            <CheckBox x:Name="SkipEnabledCheckBox"
                                      Content="启用随机快进"
                                      IsChecked="True"/>
                            <TextBlock Text="{Binding ElementName=SkipIntervalMinSlider, Path=Value, StringFormat=正常播放最短间隔：{0:F0}秒}"/>
                            <Slider x:Name="SkipIntervalMinSlider"
                                    Minimum="2"
                                    Maximum="60"
                                    Value="10"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=SkipIntervalMaxSlider, Path=Value, StringFormat=正常播放最长间隔：{0:F0}秒}"/>
                            <Slider x:Name="SkipIntervalMaxSlider"
                                    Minimum="2"
                                    Maximum="90"
                                    Value="20"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=SkipDurationMinSlider, Path=Value, StringFormat=快进最短时长：{0:F0}秒}"/>
                            <Slider x:Name="SkipDurationMinSlider"
                                    Minimum="1"
                                    Maximum="15"
                                    Value="1"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Text="{Binding ElementName=SkipDurationMaxSlider, Path=Value, StringFormat=快进最长时长：{0:F0}秒}"/>
                            <Slider x:Name="SkipDurationMaxSlider"
                                    Minimum="1"
                                    Maximum="20"
                                    Value="3"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="许可证">
                        <StackPanel Margin="8" Spacing="8">
                            <TextBlock x:Name="LicenseStatusText"
                                       Text="许可证状态：未知"/>
                            <Button Content="重新激活"
                                    Click="ReactivateButton_Click"
                                    Width="120"/>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
