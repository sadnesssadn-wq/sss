================================================
ğŸ“‹ ç¬¬2æ­¥ï¼šWebæŒ‡çº¹è¯†åˆ«å®Œæ•´æŠ¥å‘Š
================================================
æ‰«ææ—¶é—´: 2025-11-11
æ‰«æç›®æ ‡: 68ä¸ªå­åŸŸå
æ‰«ææ–¹æ³•: HTTPå¤´åˆ†æ + JSæ–‡ä»¶åˆ†æ + CMSæ£€æµ‹

================================================
ğŸ”¥ æ ¸å¿ƒå‘ç°
================================================

ã€P0 - ç®¡ç†åå°çªç ´ç‚¹ã€‘
âœ… admin-global.viettelpost.vn
   æŠ€æœ¯æ ˆ: Nginx 1.26.3 + React (SPA)
   âš ï¸ åŒ…å« wp-content è·¯å¾„ï¼ˆå¯èƒ½WordPressæˆ–å‡è·¯å¾„ï¼‰
   ğŸ¯ JSåˆ†æå‘ç°æ ¸å¿ƒAPI:
      - https://api-global.viettelpost.vn/cdn-service/
      - https://api-global.viettelpost.vn/management-service/
      - https://auth-global.viettelpost.vn/
   
   ğŸ”‘ å…³é”®APIè·¯å¾„:
      - /admin/user-management/create
      - /admin/user-management/search
      - /api/file/upload-files âš¡ï¸ æ–‡ä»¶ä¸Šä¼ ç‚¹ï¼
      - /api/user-management/forget-password
      - /permission-management/get-all
      - /user-management/change-password

ã€P0 - è®¤è¯ä¸­å¿ƒã€‘
âœ… id.viettelpost.vn
   æŠ€æœ¯æ ˆ: Kestrel (ASP.NET Core)
   ğŸ¯ ç™»å½•é¡µé¢: /Account/Login
   çŠ¶æ€: 302é‡å®šå‘åˆ°ç™»å½•é¡µ
   é£é™©: SSOä¸­å¿ƒï¼Œçªç ´=å…¨å±€è®¿é—®

ã€P0 - æµ‹è¯•ç¯å¢ƒã€‘
âœ… staging-ecommerce.viettelpost.vn
   çŠ¶æ€: 403 Forbidden
   é£é™©: ç”µå•†æµ‹è¯•ç¯å¢ƒï¼Œå¯èƒ½é˜²æŠ¤è¾ƒå¼±
   æµ‹è¯•: åŸºç¡€403 bypassæ— æ•ˆï¼Œéœ€é«˜çº§æ–¹æ³•

================================================
ğŸ’» æŠ€æœ¯æ ˆç»Ÿè®¡
================================================

ã€WebæœåŠ¡å™¨åˆ†å¸ƒã€‘
1. Nginx (ä¸»æµ)
   - admin-global: 1.26.3
   - fly: 1.27.2
   - exgw: 1.16.0
   - ap: 1.20.1
   - api-smartgate: ç‰ˆæœ¬æœªçŸ¥

2. Kong API Gateway (3ä¸ª)
   - gw.viettelpost.vn: Kong 3.2.2.0 Enterprise
   - dev-wms-gw.viettelpost.vn: Kong 3.2.2.0 Enterprise
   - omsapi.viettelpost.vn: Kong 3.2.2.0 Enterprise
   âš ï¸ ç‰ˆæœ¬æš´éœ² â†’ CVEæŸ¥è¯¢

3. Kestrel/ASP.NET Core (2ä¸ª)
   - id.viettelpost.vn
   - finance.viettelpost.vn

4. AWS ELB
   - api-global.viettelpost.vn: awselb/2.0

5. Apache
   - exp.viettelpost.vn

ã€åº”ç”¨æ¡†æ¶ã€‘
- Express.js: apichat.viettelpost.vn
- React: admin-global.viettelpost.vn
- ASP.NET Core: id, finance

ã€å®‰å…¨å¤´ã€‘
- X-Frame-Options: DENY (å¤šä¸ªç«™ç‚¹)
- X-Frame-Options: SAMEORIGIN (exp)

================================================
ğŸŒ APIç½‘å…³æ¶æ„åˆ†æ
================================================

ã€å‘ç°çš„APIåŸŸåã€‘
1. api-global.viettelpost.vn (ä¸»API - AWS ELB)
   â””â”€ /cdn-service/ (302)
   â””â”€ /management-service/ (302)

2. auth-global.viettelpost.vn (è®¤è¯API)
   â””â”€ 404 æ ¹è·¯å¾„ï¼Œéœ€è¦å…·ä½“è·¯å¾„

3. Kongç½‘å…³é›†ç¾¤ (3ä¸ª)
   - gw.viettelpost.vn (ç”Ÿäº§)
   - dev-wms-gw.viettelpost.vn (å¼€å‘)
   - omsapi.viettelpost.vn (è®¢å•ç®¡ç†)

ã€APIæ”»å‡»é¢ã€‘
âœ… ç”¨æˆ·ç®¡ç†API
âœ… æ–‡ä»¶ä¸Šä¼ API âš¡ï¸ é«˜å±
âœ… æƒé™ç®¡ç†API
âœ… å¯†ç é‡ç½®API

================================================
ğŸ¯ é«˜ä»·å€¼æ”»å‡»ç‚¹æ€»ç»“
================================================

ã€ç­‰çº§P0 - ç«‹å³å¯æµ‹è¯•ã€‘
1. æ–‡ä»¶ä¸Šä¼ æ¼æ´æµ‹è¯•
   https://api-global.viettelpost.vn/management-service/api/file/upload-files
   â†’ WebShellä¸Šä¼ å°è¯•

2. æœªæˆæƒAPIè®¿é—®
   /management-service/permission-management/get-all
   /management-service/admin/user-management/search
   â†’ æ— tokenç›´æ¥è®¿é—®

3. å¯†ç é‡ç½®æ¼æ´
   /api/user-management/forget-password
   â†’ è¶Šæƒé‡ç½®ä»–äººå¯†ç 

4. id.viettelpost.vn ç™»å½•
   /Account/Login
   â†’ å¼±å£ä»¤/SQLæ³¨å…¥/è®¤è¯ç»•è¿‡

ã€ç­‰çº§P1 - Kongç½‘å…³æ¸—é€ã€‘
1. Kong 3.2.2.0 å·²çŸ¥æ¼æ´
2. è·¯ç”±æšä¸¾ (/admin, /__admin, /status)
3. è®¤è¯æ’ä»¶ç»•è¿‡

ã€ç­‰çº§P2 - 403ç»•è¿‡ã€‘
staging-ecommerce.viettelpost.vn
â†’ éœ€è¦æ›´å¤šbypassæ–¹æ³•

================================================
ğŸ” CMS/æ¡†æ¶æ¼æ´æ£€æµ‹å»ºè®®
================================================

ã€ASP.NET Coreåº”ç”¨ã€‘ (id, finance)
- ååºåˆ—åŒ–æ¼æ´
- ViewStateæ¼æ´
- è·¯å¾„éå†

ã€Expressåº”ç”¨ã€‘ (apichat)
- Prototypeæ±¡æŸ“
- è·¯å¾„éå†
- ä¸­é—´ä»¶æ¼æ´

ã€Kongç½‘å…³ã€‘ (3ä¸ª)
- CVE-2023-xxxx æŸ¥è¯¢
- è®¤è¯ç»•è¿‡
- Admin APIæš´éœ²

================================================
ğŸ“Š æŒ‡çº¹è¯†åˆ«ç»Ÿè®¡
================================================

âœ… HTTPå¤´åˆ†æ: 68ä¸ªåŸŸå
âœ… JSæ·±åº¦åˆ†æ: admin-global (1.2MB)
âœ… APIç«¯ç‚¹æå–: 15+ä¸ª
âœ… CMSæ£€æµ‹: 1ä¸ªç–‘ä¼¼WordPress
âœ… æŠ€æœ¯æ ˆè¯†åˆ«: 
   - 5ç§WebæœåŠ¡å™¨
   - 3ä¸ªAPIç½‘å…³
   - 2ç§åº”ç”¨æ¡†æ¶

================================================
ğŸš€ ä¸‹ä¸€æ­¥ï¼šç¬¬3æ­¥ API Hacking
================================================

å»ºè®®ç«‹å³æ‰§è¡Œ:
1. æµ‹è¯•æ–‡ä»¶ä¸Šä¼ API (æœªæˆæƒ+ç»•è¿‡)
2. æšä¸¾ç”¨æˆ·ç®¡ç†API (IDOR)
3. Kongç½‘å…³æ·±åº¦æ¢æµ‹
4. id.viettelpost.vnç™»å½•æ”»å‡»
5. å¯†ç é‡ç½®é€»è¾‘æ¼æ´æµ‹è¯•

================================================
ç”Ÿæˆæ—¶é—´: $(date)
æŠ¥å‘Šç‰ˆæœ¬: v1.0
