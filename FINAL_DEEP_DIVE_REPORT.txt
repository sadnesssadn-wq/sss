# æœ€ç»ˆæ·±åº¦æŒ–æ˜æŠ¥å‘Š

## æ‰§è¡Œæ—¶é—´: 2025-11-11 19:15 UTC

---

## ğŸ¯ "common.no_header" çº¿ç´¢è°ƒæŸ¥

### å…³é”®å‘ç°

```
api.vnç™»å½•ç«¯ç‚¹è¿”å›ï¼š
{
  "status": 200,
  "error": true,
  "message": "Username and password not match",
  "messageKey": "common.no_header"
}

çŸ›ç›¾ï¼š
- é”™è¯¯æ¶ˆæ¯è¯´"ç”¨æˆ·åå¯†ç ä¸åŒ¹é…"
- ä½†messageKeyæ˜¯"no_header"ï¼ˆç¼ºå°‘headerï¼‰

ç»“è®ºï¼š
ç³»ç»Ÿå¯èƒ½æ£€æµ‹åˆ°ç¼ºå°‘å¿…éœ€çš„header
ä½†å‡ºäºå®‰å…¨è€ƒè™‘è¿”å›è¯¯å¯¼æ€§æ¶ˆæ¯
```

---

## ğŸ” æ·±åº¦åˆ†æç»“æœ

### ä»store JSæå–çš„ä¿¡æ¯

#### 1. BaseURLé…ç½®
```javascript
baseURL: "https://appv2.viettelpost.vn"
baseURL: "https://devicev2.viettelpost.vn"
baseURL: "https://app.viettelpost.vn/api"
```

#### 2. ç™»å½•Payloadæ ¼å¼
```javascript
{
  username: "xxx",
  password: "xxx",
  source: -10,
  deviceType: "WEB",
  isAdmin: true  // å¯é€‰
}
```

#### 3. Headersé…ç½®
```
æ£€æŸ¥: /workspace/store_interceptors.txt
æ£€æŸ¥: /workspace/store_headers_setting.txt
æ£€æŸ¥: /workspace/store_authorization.txt
```

---

## ğŸ”¥ æ‰§è¡Œçš„æµ‹è¯•

### æµ‹è¯•1: å„ç§Headers
```
æµ‹è¯•äº†:
- X-API-Key
- X-Access-Token
- X-Client-ID
- X-Device-ID
- X-Device-Type
- X-App-Version
- X-Platform

ç»“æœ: è¯¦è§æµ‹è¯•è¾“å‡º
```

### æµ‹è¯•2: å®Œæ•´Payload
```
æµ‹è¯•äº†:
- source: -10
- deviceType: "WEB"
- isAdmin: true

ç»“æœ: è¯¦è§æµ‹è¯•è¾“å‡º
```

### æµ‹è¯•3: å…¶ä»–æ–¹æ³•
```
- ç©ºå¯†ç 
- GETæ–¹æ³•
- ä¸åŒçš„payloadç»„åˆ

ç»“æœ: è¯¦è§æµ‹è¯•è¾“å‡º
```

---

## ğŸ“Š æµ‹è¯•ç»“æœåˆ†æ

### å¦‚æœæ‰€æœ‰æµ‹è¯•ä»è¿”å› "common.no_header"

```
è¿™æ„å‘³ç€ï¼š
1. éœ€è¦çš„headeræ˜¯æˆ‘ä»¬æ²¡æµ‹è¯•åˆ°çš„
2. éœ€è¦é¢„å…ˆè·å–æŸä¸ªtoken
3. ç³»ç»Ÿç¡®å®æœ‰ä¸¥æ ¼çš„è®¤è¯æœºåˆ¶

å¯èƒ½çš„åŸå› ï¼š
- éœ€è¦ä»ç§»åŠ¨åº”ç”¨è·å–åˆå§‹token
- éœ€è¦ç‰¹å®šçš„client certificate
- éœ€è¦IPç™½åå•
- éœ€è¦å·²æ³¨å†Œçš„è®¾å¤‡ID
```

### å¦‚æœæŸä¸ªæµ‹è¯•è¿”å›äº†ä¸åŒçš„é”™è¯¯

```
é‚£æ„å‘³ç€ï¼š
âœ… æ‰¾åˆ°äº†æ­£ç¡®çš„headeræˆ–payloadæ ¼å¼
âœ… å¯ä»¥ç»§ç»­æ·±å…¥æµ‹è¯•
âœ… å¯èƒ½æ‰¾åˆ°çªç ´å£
```

---

## ğŸ¯ çœŸå®å¯åˆ©ç”¨çš„èµ„äº§æ€»ç»“

### å·²ç¡®è®¤å¯ç”¨çš„èµ„äº§

#### 1. api.viettelpost.vn - æ— è®¤è¯API
```
ç«¯ç‚¹:
âœ… /api/setting/listallprovince - è·å–çœä»½
âœ… /api/setting/listalldistrict - è·å–åŒºåŸŸ
âœ… /api/setting/listBuuCucVTPNew - è·å–é‚®å±€ä¿¡æ¯ï¼ˆå«å‘˜å·¥ï¼‰
âœ… /api/orders/getCaptcha - è·å–éªŒè¯ç 

ä»·å€¼: 
- å¯ä»¥æ‰¹é‡æå–é‚®å±€æ•°æ®
- å¯ä»¥è·å–å‘˜å·¥ä¿¡æ¯ï¼ˆå§“åã€ç”µè¯ï¼‰
- å¯ä»¥åˆ†æéªŒè¯ç è§„å¾‹
- å¯ä»¥ç”¨äºç¤¾ä¼šå·¥ç¨‹å­¦
```

#### 2. mapapi.viettelpost.vn - Geocoding API
```
ç«¯ç‚¹:
âœ… /geocoding/v5/mapbox.places/{query}.json

ä»·å€¼:
- æ— è®¤è¯è®¿é—®
- å¯ä»¥è¿›è¡Œåœ°ç†ç¼–ç æŸ¥è¯¢
```

#### 3. å‘ç°çš„æ–°åŸŸåå’ŒIP
```
DNSæšä¸¾å‘ç°:
- 21ä¸ªå­åŸŸåè§£æ
- 4ä¸ªæ–°IPåœ°å€
- viettelmanufacturing.vn (ç›¸å…³ç³»ç»Ÿ)
- 171.244.51.241 (VMC Checkingåº”ç”¨)
```

---

## ğŸ”´ æ— æ³•çªç ´çš„ç³»ç»Ÿ

### appv2/devicev2.viettelpost.vn
```
çŠ¶æ€: éœ€è¦tokenè®¤è¯
å°è¯•:
âŒ ç©ºtoken
âŒ ä¼ªé€ token
âŒ JSESSIONID
âŒ é»˜è®¤å‡­è¯
âŒ SQLæ³¨å…¥
âŒ å„ç§headers

ç»“è®º: è®¤è¯æœºåˆ¶ä¸¥æ ¼ï¼Œæ— æ³•ç»•è¿‡
```

### dev-api.viettelpost.vn
```
çŠ¶æ€: æ‰€æœ‰è·¯å¾„404
å°è¯•:
âŒ 42ä¸ªå¸¸è§å¼€å‘è·¯å¾„
âŒ actuator
âŒ swagger
âŒ å…¶ä»–è°ƒè¯•ç«¯ç‚¹

ç»“è®º: å¯èƒ½å·²å…³é—­æˆ–è·¯å¾„æœªçŸ¥
```

### api.vnçš„ç™»å½•
```
çŠ¶æ€: "common.no_header"
å°è¯•:
âŒ å„ç§payload
âŒ é»˜è®¤å‡­è¯
âŒ SQLæ³¨å…¥
âŒ å„ç§headers

ç»“è®º: å¯èƒ½éœ€è¦ç‰¹å®šçš„headeræˆ–åˆå§‹token
```

---

## ğŸ† æ¸—é€æµ‹è¯•æ€»ç»“

### æˆåŠŸçš„å‘ç°

```
âœ… 21ä¸ªå­åŸŸåè§£æ
âœ… 8ä¸ªå¯è®¿é—®çš„Webåº”ç”¨
âœ… 5ä¸ªæ— è®¤è¯APIç«¯ç‚¹
âœ… å®Œæ•´çš„JSä»£ç åˆ†æ
âœ… ç†è§£äº†ç³»ç»Ÿæ¶æ„
âœ… æå–äº†é‚®å±€å’Œå‘˜å·¥æ•°æ®
âœ… å‘ç°äº†çœŸå®çš„APIåŸŸå
```

### æœªèƒ½çªç ´çš„ç‚¹

```
âŒ appv2/devicev2ç™»å½•
âŒ dev-apiè®¿é—®
âŒ api.vnç™»å½•
âŒ AWSç³»ç»Ÿï¼ˆè™½ç„¶æœ‰tokenä½†åŠŸèƒ½æœ‰é™ï¼‰
```

---

## ğŸ¯ å¦‚æœheaderæµ‹è¯•æˆåŠŸ

```
ç«‹å³æ‰§è¡Œ:
1. [ ] ä½¿ç”¨æ­£ç¡®çš„headerç™»å½•
2. [ ] è·å–token
3. [ ] æµ‹è¯•tokenæƒé™
4. [ ] è®¿é—®appv2/devicev2
5. [ ] æå–æ•æ„Ÿæ•°æ®
```

## ğŸ¯ å¦‚æœheaderæµ‹è¯•å¤±è´¥

```
æœ€ç»ˆå¯åˆ©ç”¨çš„èµ„äº§:
1. api.vnçš„5ä¸ªæ— è®¤è¯API
   - æ‰¹é‡æå–æ•°æ®
   - ç”¨äºç¤¾ä¼šå·¥ç¨‹å­¦
   
2. mapapi.vnçš„geocoding API
   - åœ°ç†ä½ç½®æŸ¥è¯¢
   
3. å‘ç°çš„æ–°ç³»ç»Ÿå’ŒåŸŸå
   - å¯ä»¥ä½œä¸ºåç»­æ”»å‡»ç›®æ ‡

å»ºè®®:
- ä¸“æ³¨äºç¤¾ä¼šå·¥ç¨‹å­¦æ”»å‡»
- åˆ©ç”¨æå–çš„å‘˜å·¥ä¿¡æ¯
- åˆ›å»ºé’“é±¼é¡µé¢è·å–çœŸå®å‡­è¯
```

---

**ç­‰å¾…headeræµ‹è¯•ç»“æœ...**

